{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kensuke/GoogleDrive/GoogleDrive_Sync/01_Doing/\\u958B\\u767A\\u52C9\\u5F37\\u4F1A/distribution-site-sample/hello-typescript/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kensuke/GoogleDrive/GoogleDrive_Sync/01_Doing/\\u958B\\u767A\\u52C9\\u5F37\\u4F1A/distribution-site-sample/hello-typescript/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kensuke/GoogleDrive/GoogleDrive_Sync/01_Doing/\\u958B\\u767A\\u52C9\\u5F37\\u4F1A/distribution-site-sample/hello-typescript/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useHistory,useParams}from'react-router-dom';import Button from'@material-ui/core/Button';import{createStyles,makeStyles}from'@material-ui/core/styles';import firebase from'../../firebase';var useStyles=makeStyles(function(){return createStyles({root:{display:\"flex\",flexWrap:\"wrap\",width:\"80%\",textAlign:\"center\",marginTop:\"2%\"},tileImage:{height:\"218px\",width:\"218px\"}});});var ImageItemList=function ImageItemList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useParams=useParams(),keyword=_useParams.keyword;var classes=useStyles();var history=useHistory();var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(searchWord){var db,tileDataRef,searchedData,snapShot,temporaryData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:db=firebase.firestore();tileDataRef=db.collection(\"tileData\");searchedData=tileDataRef.where(\"keyword\",\"array-contains\",searchWord);_context.next=5;return searchedData.get();case 5:snapShot=_context.sent;temporaryData=[];snapShot.docs.map(function(doc){temporaryData.push(doc.data());});setData(temporaryData);case 9:case\"end\":return _context.stop();}}},_callee);}));return function getData(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getData(keyword);});return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},data.map(function(tile){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return history.push(\"/download/\"+tile.title);}},/*#__PURE__*/React.createElement(\"img\",{className:classes.tileImage,src:tile.image,alt:tile.title})),/*#__PURE__*/React.createElement(\"h3\",null,tile.title));}));};export default ImageItemList;","map":{"version":3,"sources":["/Users/kensuke/GoogleDrive/GoogleDrive_Sync/01_Doing/開発勉強会/distribution-site-sample/hello-typescript/src/components/resultPage/resultImageList.tsx"],"names":["React","useState","useEffect","useHistory","useParams","Button","createStyles","makeStyles","firebase","useStyles","root","display","flexWrap","width","textAlign","marginTop","tileImage","height","ImageItemList","data","setData","keyword","classes","history","getData","searchWord","db","firestore","tileDataRef","collection","searchedData","where","get","snapShot","temporaryData","docs","map","doc","push","tile","title","image"],"mappings":"6mBAAA,MAAOA,CAAAA,KAAP,EAAmBC,QAAnB,CAA6BC,SAA7B,KAA6C,OAA7C,CACA,OAAQC,UAAR,CAAoBC,SAApB,KAAoC,kBAApC,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAAQC,YAAR,CAAsBC,UAAtB,KAAuC,0BAAvC,CAEA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CAGA,GAAMC,CAAAA,SAAS,CAAGF,UAAU,CAAC,iBAC3BD,CAAAA,YAAY,CAAC,CACbI,IAAI,CAAE,CACHC,OAAO,CAAE,MADN,CAEJC,QAAQ,CAAE,MAFN,CAGJC,KAAK,CAAE,KAHH,CAIJC,SAAS,CAAE,QAJP,CAKJC,SAAS,CAAE,IALP,CADO,CAQXC,SAAS,CAAE,CACXC,MAAM,CAAE,OADG,CAEXJ,KAAK,CAAE,OAFI,CARA,CAAD,CADe,EAAD,CAA5B,CAgBA,GAAMK,CAAAA,aAAiB,CAAG,QAApBA,CAAAA,aAAoB,EAAM,eACPjB,QAAQ,CAAa,EAAb,CADD,wCACxBkB,IADwB,eAClBC,OADkB,8BAEXhB,SAAS,EAFE,CAEvBiB,OAFuB,YAEvBA,OAFuB,CAG/B,GAAMC,CAAAA,OAAO,CAAGb,SAAS,EAAzB,CACA,GAAMc,CAAAA,OAAO,CAAGpB,UAAU,EAA1B,CAEA,GAAMqB,CAAAA,OAAO,0FAAG,iBAAOC,UAAP,yKACTC,EADS,CACJlB,QAAQ,CAACmB,SAAT,EADI,CAETC,WAFS,CAEKF,EAAE,CAACG,UAAH,CAAc,UAAd,CAFL,CAGTC,YAHS,CAGMF,WAAW,CAACG,KAAZ,CAAkB,SAAlB,CAA6B,gBAA7B,CAA+CN,UAA/C,CAHN,uBAIQK,CAAAA,YAAY,CAACE,GAAb,EAJR,QAITC,QAJS,eAKRC,aALQ,CAKkB,EALlB,CAOfD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,CAAI,CACvBH,aAAa,CAACI,IAAd,CAAmBD,GAAG,CAAClB,IAAJ,EAAnB,EACD,CAFD,EAIAC,OAAO,CAACc,aAAD,CAAP,CAXe,sDAAH,kBAAPV,CAAAA,OAAO,4CAAb,CAeAtB,SAAS,CAAC,UAAM,CACbsB,OAAO,CAACH,OAAD,CAAP,CACD,CAFO,CAAT,CAIC,mBACI,2BAAK,SAAS,CAAEC,OAAO,CAACZ,IAAxB,EACCS,IAAI,CAACiB,GAAL,CAAS,SAACG,IAAD,qBACX,4CACA,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAKhB,CAAAA,OAAO,CAACe,IAAR,CAAa,aAAeC,IAAI,CAACC,KAAjC,CAAL,EAAjB,eACE,2BAAK,SAAS,CAAElB,OAAO,CAACN,SAAxB,CAAmC,GAAG,CAAEuB,IAAI,CAACE,KAA7C,CAAoD,GAAG,CAAEF,IAAI,CAACC,KAA9D,EADF,CADA,cAIA,8BAAKD,IAAI,CAACC,KAAV,CAJA,CADW,EAAT,CADD,CADJ,CAYD,CArCD,CAuCA,cAAetB,CAAAA,aAAf","sourcesContent":["import React, {FC, useState, useEffect} from \"react\";\nimport {useHistory, useParams} from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport {createStyles, makeStyles} from '@material-ui/core/styles'; \n\nimport firebase from '../../firebase';\nimport {TileDate} from \"../../types/types\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n\t\troot: {\n\t   \tdisplay: \"flex\",\n\t\t  flexWrap: \"wrap\",\n\t\t  width: \"80%\",\n\t\t  textAlign: \"center\",\n\t\t  marginTop: \"2%\",\n\t \t},\n    tileImage: {\n\t   height: \"218px\",\n\t   width: \"218px\",\n\t\t},\n  }),\n);\n\nconst ImageItemList: FC = () => {\n\tconst [data, setData] = useState<TileDate[]>([]);\n\tconst { keyword } = useParams(); \n\tconst classes = useStyles(); \n\tconst history = useHistory(); \n\n\tconst getData = async (searchWord: string | undefined) =>  {\n\t\tconst db = firebase.firestore();\n\t\tconst tileDataRef = db.collection(\"tileData\");\n\t\tconst searchedData = tileDataRef.where(\"keyword\", \"array-contains\", searchWord);        \n\t\tconst snapShot = await searchedData.get();\n\t \tconst temporaryData: object[] = [];\n\n\t\tsnapShot.docs.map(doc => {\n\t\t  temporaryData.push(doc.data());\n\t\t})\n\n\t\tsetData(temporaryData as TileDate[]);\n\n\t}\n\n\tuseEffect(() => {\n    getData(keyword);\n \t});\n    \n  return(\n      <div className={classes.root}>\n      {data.map((tile) => (\n\t\t\t  <div>\n\t\t\t\t\t<Button onClick={() =>history.push(\"/download/\" + tile.title)}>\n\t\t\t\t\t  <img className={classes.tileImage} src={tile.image} alt={tile.title} />\n\t\t\t\t\t</Button>\n\t\t\t\t\t<h3>{tile.title}</h3>\n\t\t\t  </div> \n\t\t\t ))}\n      </div>\n  )\n}\n\nexport default ImageItemList;"]},"metadata":{},"sourceType":"module"}