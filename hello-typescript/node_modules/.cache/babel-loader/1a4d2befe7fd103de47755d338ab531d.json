{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kensuke/GoogleDrive/GoogleDrive_Sync/01_Doing/\\u958B\\u767A\\u52C9\\u5F37\\u4F1A/distribution-site-sample/hello-typescript/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kensuke/GoogleDrive/GoogleDrive_Sync/01_Doing/\\u958B\\u767A\\u52C9\\u5F37\\u4F1A/distribution-site-sample/hello-typescript/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kensuke/GoogleDrive/GoogleDrive_Sync/01_Doing/\\u958B\\u767A\\u52C9\\u5F37\\u4F1A/distribution-site-sample/hello-typescript/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useParams}from'react-router-dom';import Button from\"@material-ui/core/Button\";import{createStyles,makeStyles}from'@material-ui/core/styles';import firebase from'../firebase';import TopHeader from\"../components/topPage/topHeader\";var useStyles=makeStyles(function(){return createStyles({root:{marginTop:\"-20px\"},main:{textAlign:\"center\",marginTop:\"5%\"},tileImage:{height:\"436px\",width:\"436px\"}});});var DownloadPage=function DownloadPage(){var _useParams=useParams(),keyword=_useParams.keyword;var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(searchWord){var db,tileDataRef,searchedData,temporaryData,snapShot;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:db=firebase.firestore();tileDataRef=db.collection(\"tileData\");searchedData=tileDataRef.where(\"keyword\",\"array-contains\",searchWord);temporaryData=[];_context.next=6;return searchedData.get();case 6:snapShot=_context.sent;snapShot.docs.map(function(doc){temporaryData.push(doc.data());});setData(temporaryData);case 9:case\"end\":return _context.stop();}}},_callee);}));return function getData(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getData(keyword);},[]);var displayImage=function displayImage(){return/*#__PURE__*/React.createElement(\"div\",null,data.map(function(tile){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{className:classes.tileImage,src:tile.image,alt:tile.title}));}));};var downloadButton=function downloadButton(){return/*#__PURE__*/React.createElement(\"div\",null,data.map(function(tile){return/*#__PURE__*/React.createElement(Button,{variant:\"contained\",href:tile.downloadUrl},\"\\u7121\\u6599\\u30C0\\u30A6\\u30F3\\u30ED\\u30FC\\u30C9\");}));};return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(TopHeader,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.main},displayImage(),downloadButton()));};export default DownloadPage;","map":{"version":3,"sources":["/Users/kensuke/GoogleDrive/GoogleDrive_Sync/01_Doing/開発勉強会/distribution-site-sample/hello-typescript/src/pages/downloadPage.tsx"],"names":["React","useEffect","useState","useParams","Button","createStyles","makeStyles","firebase","TopHeader","useStyles","root","marginTop","main","textAlign","tileImage","height","width","DownloadPage","keyword","classes","data","setData","getData","searchWord","db","firestore","tileDataRef","collection","searchedData","where","temporaryData","get","snapShot","docs","map","doc","push","displayImage","tile","image","title","downloadButton","downloadUrl"],"mappings":"6mBAAA,MAAOA,CAAAA,KAAP,EAAmBC,SAAnB,CAA8BC,QAA9B,KAA6C,OAA7C,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAAQC,YAAR,CAAsBC,UAAtB,KAAuC,0BAAvC,CAEA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,iCAAtB,CAGA,GAAMC,CAAAA,SAAS,CAAGH,UAAU,CAAC,iBAC3BD,CAAAA,YAAY,CAAC,CACbK,IAAI,CAAE,CACLC,SAAS,CAAE,OADN,CADO,CAIbC,IAAI,CAAE,CACJC,SAAS,CAAE,QADP,CAEJF,SAAS,CAAE,IAFP,CAJO,CAQbG,SAAS,CAAE,CACTC,MAAM,CAAE,OADC,CAETC,KAAK,CAAE,OAFE,CARE,CAAD,CADe,EAAD,CAA5B,CAgBA,GAAMC,CAAAA,YAAgB,CAAG,QAAnBA,CAAAA,YAAmB,EAAM,gBACVd,SAAS,EADC,CACtBe,OADsB,YACtBA,OADsB,CAE9B,GAAMC,CAAAA,OAAO,CAAGV,SAAS,EAAzB,CAF8B,cAGNP,QAAQ,CAAa,EAAb,CAHF,wCAGvBkB,IAHuB,eAGjBC,OAHiB,eAK9B,GAAMC,CAAAA,OAAO,0FAAG,iBAAOC,UAAP,yKACPC,EADO,CACFjB,QAAQ,CAACkB,SAAT,EADE,CAEPC,WAFO,CAEOF,EAAE,CAACG,UAAH,CAAc,UAAd,CAFP,CAGPC,YAHO,CAGQF,WAAW,CAACG,KAAZ,CAAkB,SAAlB,CAA6B,gBAA7B,CAA+CN,UAA/C,CAHR,CAIPO,aAJO,CAImB,EAJnB,uBAMUF,CAAAA,YAAY,CAACG,GAAb,EANV,QAMPC,QANO,eAQbA,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,CAAI,CACvBL,aAAa,CAACM,IAAd,CAAmBD,GAAG,CAACf,IAAJ,EAAnB,EACD,CAFD,EAIAC,OAAO,CAACS,aAAD,CAAP,CAZa,sDAAH,kBAAPR,CAAAA,OAAO,4CAAb,CAeCrB,SAAS,CAAC,UAAM,CAChBqB,OAAO,CAACJ,OAAD,CAAP,CACA,CAFS,CAEP,EAFO,CAAT,CAID,GAAMmB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,mBACA,+BACEjB,IAAI,CAACc,GAAL,CAAS,SAACI,IAAD,qBACT,4CACC,2BAAK,SAAS,CAAEnB,OAAO,CAACL,SAAxB,CAAmC,GAAG,CAAEwB,IAAI,CAACC,KAA7C,CAAoD,GAAG,CAAED,IAAI,CAACE,KAA9D,EADD,CADS,EAAT,CADF,CADA,CASA,CAVF,CAYC,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,mBACC,+BACGrB,IAAI,CAACc,GAAL,CAAS,SAACI,IAAD,qBACR,oBAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,IAAI,CAAEA,IAAI,CAACI,WAFb,qDADQ,EAAT,CADH,CADD,CAaD,CAdD,CAgBA,mBACE,2BAAK,SAAS,CAAEvB,OAAO,CAACT,IAAxB,eACD,oBAAC,SAAD,MADC,cAED,2BAAK,SAAS,CAAES,OAAO,CAACP,IAAxB,EACEyB,YAAY,EADd,CAEEI,cAAc,EAFhB,CAFC,CADF,CASD,CA7DD,CA+DA,cAAexB,CAAAA,YAAf","sourcesContent":["import React, {FC, useEffect, useState} from \"react\";\nimport {useParams} from 'react-router-dom';\nimport Button from \"@material-ui/core/Button\";\nimport {createStyles, makeStyles} from '@material-ui/core/styles';\n\nimport firebase from '../firebase';\nimport TopHeader from \"../components/topPage/topHeader\";\nimport {TileDate} from \"../types/types\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n\t\troot: {\n\t\t\tmarginTop: \"-20px\",\n\t\t},\n\t\tmain: {\n\t\t  textAlign: \"center\",\n\t\t  marginTop: \"5%\",\n\t\t},\n\t\ttileImage: {\n\t\t  height: \"436px\",\n\t\t  width: \"436px\",\n\t\t},\n  })\n);\n\nconst DownloadPage: FC = () => {\n\tconst { keyword } = useParams();\n\tconst classes = useStyles(); \n\tconst [data, setData] = useState<TileDate[]>([]);\n\n\tconst getData = async (searchWord: string | undefined) => {\n    const db = firebase.firestore();\n    const tileDataRef = db.collection(\"tileData\");\n    const searchedData = tileDataRef.where(\"keyword\", \"array-contains\", searchWord);\n    const temporaryData: object[] = [];\n  \n    const snapShot = await searchedData.get();\n  \n    snapShot.docs.map(doc => {\n      temporaryData.push(doc.data());\n    })\n  \n    setData(temporaryData as TileDate[]);\n  }\n\n  useEffect(() => { \n\t\tgetData(keyword);\n\t}, []);\n\n\tconst displayImage = () => {\n\t  return(\n\t\t\t<div>\n\t\t\t\t{data.map((tile) => (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img className={classes.tileImage} src={tile.image} alt={tile.title} />\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n  \t)\n \t}\n\n \tconst downloadButton = () => { \n   \treturn(\n\t    <div>\n\t      {data.map((tile) => (\n\t        <Button \n\t          variant=\"contained\"  \n\t          href={tile.downloadUrl}\n\t        >\n\t         無料ダウンロード\n\t        </Button>\n\t      ))} \n\n\t    </div>\n  \t)\n\t }\n    \n  return(\n    <div className={classes.root}>\n\t\t\t<TopHeader />\n\t\t\t<div className={classes.main}>\n\t\t\t\t{displayImage()}\n\t\t\t\t{downloadButton()}\n\t\t\t</div>\n    </div>\n  )\n}\n\nexport default DownloadPage;"]},"metadata":{},"sourceType":"module"}